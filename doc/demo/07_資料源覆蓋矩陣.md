# 資料源覆蓋矩陣（含資料契約觀點）

## 1) 官方資料源（面試能站得住腳）
- 財報：TWSE OpenAPI（具 swagger.json 規格檔）【Base URL: openapi.twse.com.tw/v1】  
  - 類別包含「財務報表」，可見資產負債表等端點（示例：/opendata/t187ap07_X_ci）:contentReference[oaicite:6]{index=6}
- ESG：TWSE OpenAPI「公司治理」類別下，包含 ESG 資訊揭露彙總資料端點（職業安全衛生等）:contentReference[oaicite:7]{index=7}
- ESG 平台作業：ESG 數位平台官方文件提供「ESG 指標批次匯出/匯入 Excel」與報告書產製支援，可作為資料取得與內控依據:contentReference[oaicite:8]{index=8}

## 2) 指標 → 欄位 → 來源對應（Demo 最小可行集合）
### 財報（以季資料為主）
| 指標 | 公式/定義 | 需要欄位（概念） | 來源 | 更新頻率 | 風險 |
|---|---|---|---|---|---|
| 營收 | 直接取值 | 營收 | TWSE OpenAPI 財務報表 | 季 | 欄位命名可能依產業表別不同 |
| 毛利率 | 毛利/營收 | 毛利、營收 | 同上 | 季 | 同上 |
| 淨利率 | 稅後淨利/營收 | 稅後淨利、營收 | 同上 | 季 | 同上 |
| ROE | 稅後淨利/平均權益 | 稅後淨利、權益期初期末 | 同上 | 季 | 平均權益需兩期資料 |
| 自由現金流 | 營運現金流-資本支出 | 營運現金流、資本支出 | 同上（現金流量表） | 季 | 資本支出欄位需確認表別 |

### ESG（職業安全衛生：可直接做 Demo）
| 指標 | 定義 | 需要欄位 | 來源 | 更新頻率 | 風險 |
|---|---|---|---|---|---|
| 職災人數 | 直接取值 | 職業災害人數 | TWSE OpenAPI ESG 彙總（職安類） | 年 | 公司未申報/未揭露 |
| 職災比率 | 直接取值 | 職業災害比率 | 同上 | 年 | 同上 |
| 火災件數/死傷 | 直接取值 | 火災件數、死傷 | 同上（若欄位提供）:contentReference[oaicite:9]{index=9} | 年 | 欄位依年度/制度調整 |

## 3) Demo 建議「資料契約」最小集合
- Key：出表日期、報告年度、公司代號、公司名稱、期間（季/年）
- 財報：營收、毛利、營業利益、稅後淨利、總資產、總負債、權益、營運現金流、資本支出
- ESG（職安）：職災人數、職災比率、火災件數、火災死傷（若有）

> 若契約欄位缺失：版本自動轉「待審」，阻擋放行（見流程/測試案例）。
